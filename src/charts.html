<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description"
        content="eXoMexo - Your premier platform for discovering car deals, comprehensive statistics, and accurate price estimations." />
    <meta name="author" content="KatMat Team" />
    <meta name="keywords" content="car deals, statistics, price, data analysis, car market, aggregator, eXoMexo" />
    <title>eXoMexoü¶Åüê∏</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Dynamic Data Chart</title>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
    <script type="module" src="scripts/locale.js"></script>

    <link rel="stylesheet" href="styles/ui.css">
    <link rel="stylesheet" href="styles/responsive.css">
    <link rel="stylesheet" href="styles/nav-bar.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="scripts/charts/payload-builder.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">ExoMexoü¶Åüê∏</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="search" data-title="Search üîéüõíüòéüëåüî•üéØüí∞">Search</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="analysis" data-title="Data Analysis üìàüìäüìù">Data Analysis</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="calculator" data-title="Price Calculator üí∞üìâüßÆ">Price Calculator</a>
                    </li>
                </ul>
                <!-- Language Selector -->
                <select id="language-selector" class="form-select w-auto ms-3">
                    <option value="en">English</option>
                    <option value="bg">–ë—ä–ª–≥–∞—Ä—Å–∫–∏</option>
                    <option value="ro">Rom√¢nƒÉ</option>
                    <option value="pl">Polski</option>
                    <option value="de">Deutsch</option>
                    <option value="fr">Fran√ßais</option>
                    <option value="nl">Nederlands</option>
                    <option value="gr">ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨</option>
                    <option value="sr">–°—Ä–ø—Å–∫–∏</option>
                    <option value="it">Italiano</option>
                </select>
            </div>
        </div>
    </nav>
    <div class="container mt-5">
        <h2>Statistic Search Payload Builder</h2>
        <form id="chartForm" class="mt-4">
            <div id="chartTypeSection" class="section">
                <h6>Select Chart Type</h6>
                <div class="mb-3">
                    <div class="filter-checkbox-grid">
                        <input type="radio" name="chartType" id="distributionChartRadio" value="distribution" checked>
                        <label for="distributionChartRadio">Data Distribution Charts</label>
                        <input type="radio" name="chartType" id="summaryChartRadio" value="summary">
                        <label for="summaryChartRadio">Data Summary Charts</label>
                    </div>
                </div>
            </div>
            <!-- Make and model -->
            <div id="filterSection" class="section">
                <h6>Filter Options</h6>
                <div class="row mt-3">
                    <div class="col-12 mb-3">
                        <label data-i18n="labels.makeModel">Search by make and model</label>
                    </div>
                    <div class="col-md-6 mb-3">
                        <select id="make" class="form-control">
                            <option value="" data-i18n="labels.selectMake">Select Make</option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <select id="model" class="form-control">
                            <option value="" data-i18n="labels.selectModel">Select Model</option>
                        </select>
                    </div>
                </div>
                <!-- Egnine -->
                <div class="mt-3 row">
                    <div class="col-md-12 mb-3">
                        <label data-i18n="labels.engine">Engine:</label>
                        <div id="engine" class="custom-checkbox-grid"></div>
                    </div>
                </div>
                <!-- Gearbox -->
                <div class="row mt-3">
                    <div class="col-md-6 mb-3">
                        <label data-i18n="labels.gearbox">Gearbox</label>
                        <select id="gearbox" class="form-control">
                            <option value="" data-i18n="labels.selectGearbox">Select Gearbox</option>
                        </select>
                    </div>
                </div>
                <!-- Year -->
                <div class="row mt-3">
                    <div class="col-12 mb-3">
                        <label data-i18n="labels.year">Production Year</label>
                    </div>
                    <div class="col-md-6 mb-3">
                        <select id="yearFrom" class="form-control">
                            <option value="" data-i18n="labels.from">
                                from
                            </option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <select id="yearTo" class="form-control">
                            <option value="" data-i18n="labels.to">to</option>
                        </select>
                    </div>
                </div>

                <!-- Power -->
                <div class="row mt-3">
                    <div class="col-12 mb-3">
                        <label data-i18n="labels.mileage">Mileage</label>
                    </div>
                    <div class="col-md-6 mb-3">
                        <select id="mileageFrom" class="form-control">
                            <option value="" data-i18n="labels.fromKm">
                                <p>from km.</p>
                            </option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <select id="mileageTo" class="form-control">
                            <option value="" data-i18n="labels.toKm">to km.</option>
                        </select>

                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-12 mb-3">
                        <label data-i18n="labels.power">Power</label>
                    </div>
                    <div class="col-md-6 mb-3">
                        <select id="powerFrom" class="form-control">
                            <option value="" data-i18n="labels.fromPower">from h.p.</option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <select id="powerTo" class="form-control">
                            <option value="" data-i18n="labels.toPower">to h.p.</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="section" id="compactAccordion" style="display: none;">
                <h6>Statistics</h6>
                <div class="accordion">
                    <!-- Grouping Section -->



                    <!-- Columns and Statistical Functions Section -->
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <div class="header-container" style="width: 320px;">
                                <!-- Corrected attributes: data-toggle -> data-bs-toggle, data-target -> data-bs-target -->
                                <button class="btn btn-link btn-block text-left collapsed" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false"
                                    aria-controls="collapseOne">
                                    Select Financial Data for Analysis <i class="fas fa-chart-bar"></i>
                                </button>
                                <!-- Updated modal trigger attributes to Bootstrap 5 format -->
                                <i class="fas fa-info-circle" data-bs-toggle="modal"
                                    data-bs-target="#columnsHelpModal"></i>
                            </div>
                        </div>
                        <div id="collapseOne" class="collapse" aria-labelledby="headingOne"
                            data-bs-parent="#compactAccordion">
                            <div class="card-body">
                                <div class="scrollable-container">
                                    <div class="form-check-inline">
                                        <div class="description">
                                            <p>Select fields to group vehicles data by:</p>
                                        </div>
                                    </div>
                                    <div class="form-check-inline">
                                        <div class="group-by-column-checkbox-grid">
                                            <input type="checkbox" id="groupByMake" checked>
                                            <label class="form-check-label" for="groupByMake">Make</label>
                                        </div>
                                        <div class="group-by-column-checkbox-grid">
                                            <input type="checkbox" id="groupByYear">
                                            <label class="form-check-label" for="groupByYear">Year</label>
                                        </div>
                                        <div class="group-by-column-checkbox-grid hidden-checkbox"
                                            style="display: none;">
                                            <input type="checkbox" id="groupByModel">
                                            <label class="form-check-label" for="groupByModel">Model</label>
                                        </div>
                                        <div class="group-by-column-checkbox-grid hidden-checkbox"
                                            style="display: none;">
                                            <input type="checkbox" id="groupByEngine">
                                            <label class="form-check-label" for="groupByEngine">Engine</label>
                                        </div>
                                        <div class="group-by-column-checkbox-grid hidden-checkbox"
                                            style="display: none;">
                                            <input type="checkbox" id="groupByGearbox">
                                            <label class="form-check-label" for="groupByGearbox">Gearbox</label>
                                        </div>
                                        <div class="group-by-column-checkbox-grid hidden-checkbox"
                                            style="display: none;">
                                            <input type="checkbox" id="groupByMileage">
                                            <label class="form-check-label" for="groupByMileage">Mileage</label>
                                        </div>
                                        <div class="group-by-column-checkbox-grid hidden-checkbox"
                                            style="display: none;">
                                            <input type="checkbox" id="groupByPower">
                                            <label class="form-check-label" for="groupByPower">Power</label>
                                        </div>

                                    </div>
                                    <div class="custom-checkbox-grid">
                                        <button class="btn-toggle more-btn" id="toggleMoreColumns">More...</button>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Statistical Functions Section -->
                    <div class="card">
                        <div class="card-header" id="headingTwo">
                            <div class="header-container" style="width: 225px;">
                                <!-- Updated attributes for Bootstrap 5 -->
                                <button class="btn btn-link text-left collapsed header-button" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false"
                                    aria-controls="collapseTwo">
                                    Statistic Functions <i class="fas fa-signal"></i>
                                </button>
                                <!-- Updated modal trigger for Bootstrap 5 -->
                                <i class="fas fa-info-circle" data-bs-toggle="modal"
                                    data-bs-target="#functionsHelpModal"></i>
                            </div>
                        </div>
                        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo"
                            data-bs-parent="#compactAccordion">
                            <div class="card-body">
                                <div class="scrollable-container">
                                    <div>
                                        <div class="description">
                                            <p><strong>Select Statistical Functions to Apply:</strong> Choose
                                                the
                                                statistical functions
                                                you want to apply to the selected columns. These functions will
                                                help you
                                                summarize and
                                                understand the data better.</p>
                                        </div>
                                    </div>
                                    <div class="form-check-inline">
                                        <div class="functions-checkbox-grid">
                                            <input type="checkbox" id="statCount" checked>
                                            <label class="form-check-label" for="statCount">Count</label>
                                        </div>
                                        <div class="functions-checkbox-grid">
                                            <input type="checkbox" id="statAvg" checked>
                                            <label class="form-check-label" for="statAvg">Avg</label>
                                        </div>
                                        <div class="functions-checkbox-grid">
                                            <input type="checkbox" id="statSum" checked>
                                            <label class="form-check-label" for="statSum">Sum</label>
                                        </div>
                                    </div>
                                    <!-- Hidden checkboxes, initially hidden and revealed as needed -->
                                    <div class="functions-checkbox-grid hidden-function" style="display: none;">
                                        <input type="checkbox" id="statMedian">
                                        <label class="form-check-label" for="statMedian">Median</label>
                                    </div>
                                    <div class="functions-checkbox-grid hidden-function" style="display: none;">
                                        <input type="checkbox" id="rsd">
                                        <label class="form-check-label" for="rsd">Relative Standard
                                            Deviation</label>
                                    </div>
                                    <div class="functions-checkbox-grid hidden-function" style="display: none;">
                                        <input type="checkbox" id="statMin">
                                        <label class="form-check-label" for="statMin">Min</label>
                                    </div>
                                    <div class="functions-checkbox-grid hidden-function" style="display: none;">
                                        <input type="checkbox" id="statMax">
                                        <label class="form-check-label" for="statMax">Max</label>
                                    </div>

                                </div>
                                <div class="custom-checkbox-grid">
                                    <button class="btn-toggle more-btn" id="toggleFnMore">More...</button>
                                </div>
                                <!-- Checkboxes for statistical functions -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="distributions" class="section" style="display: none;">
                <h6>Distribution Fields</h6>
                <div class="row mt-3">
                    <div class=" filter-checkbox-grid">
                        <label><input type="radio" name="distributionType" value="ByInterval" checked> By
                            Intervals</label>
                        <label><input type="radio" name="distributionType" value="ByQuantile"> By Quantiales</label>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-check-label" for="statMax">Number of Bins:</label>
                        <input class="form-control" name="numberOfBins" min="10">
                    </div>
                    <div class="filter-checkbox-grid">
                        <input type="checkbox" id="filterData" />
                        <label for="filterData" data-i18n="labels.filterData">
                            Filter Data(Exclude Outliers)
                        </label>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary mt-4">Submit</button>
        </form>
        <div class="mt-5">
            <h3>Chart</h3>
            <canvas id="chartCanvas" width="800" height="400"></canvas>
        </div>
    </div>
    <script type="module" src="scripts/data.js"></script>
    <script type="module" src="scripts/enums.js"></script>
</body>

</html>
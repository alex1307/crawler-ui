<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Fair</title>
    <script type="module" src="./scripts/data.js"></script>
    <script type="module" src="./scripts/enums.js"></script>
    <script type="module" src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"></script>
    <script type="module" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <link rel="stylesheet" href="./styles/searchstyles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
    <link rel="stylesheet" href="styles/price-cards.css">
    <style>
        body {
            background-color: #ffffff;
            /* Change this to your desired background color */
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .navbar {
            background-color: #343a40;
            width: 100%;
        }

        .navbar-brand,
        .navbar-nav .nav-link {
            color: #ffffff;
        }

        .navbar-brand:hover,
        .navbar-nav .nav-link:hover {
            color: #d4d4d4;
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .footer {
            padding: 10px 0;
            text-align: center;
            background-color: #343a40;
            color: #ffffff;
            width: 100%;
        }

        .footer a {
            color: #ffffff;
            margin: 0 10px;
            text-decoration: none;
        }

        .footer a:hover {
            color: #d4d4d4;
        }

        .header-title {
            font-size: 2.5em;
            margin-top: 20px;
            margin-bottom: 20px;
            color: #343a40;
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="#">Vehicles Fair</a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="search.html">Search</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="statistic.html">Statistics</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Search Section -->
    <div class="container mt-4 content">
        <h2 class="header-title">Find Your Perfect Car Deal</h2>
        <form id="searchForm" class="search-form">
            <div class="row mb-3">
                <div class="col-12">
                    <label for="search">Search:</label>
                    <input id="search" name="search" value="" type="text" class="form-control" />
                </div>
            </div>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label for="make">Make:</label>
                    <select id="make" class="form-control">
                        <option value="">Select a make</option>
                    </select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="model">Model:</label>
                    <select id="model" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="priceMin">Price Min:</label>
                    <select id="priceMin" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="priceMax">Price Max:</label>
                    <select id="priceMax" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="save_diffMin">Save Diff (min):</label>
                    <select id="save_diffMin" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="save_diffMax">Save Diff (max):</label>
                    <select id="save_diffMax" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="discountMin">Discount % (min):</label>
                    <select id="discountMin" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="discountMax">Discount % (max):</label>
                    <select id="discountMax" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="mileageMin">Mileage From:</label>
                    <select id="mileageMin" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="mileageMax">Mileage To:</label>
                    <select id="mileageMax" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="powerMin">Power From:</label>
                    <select id="powerMin" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="powerMax">Power To:</label>
                    <select id="powerMax" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="yearMin">Year From:</label>
                    <select id="yearMin" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="yearMax">Year To:</label>
                    <select id="yearMax" class="form-control"></select>
                </div>

                <div class="col-md-3 mb-3">
                    <label for="ccMin">CC Min (cm³):</label>
                    <select id="ccMin" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="ccMax">CC Max (cm³):</label>
                    <select id="ccMax" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="created_onMin">Published on:</label>
                    <select id="created_onMin" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="sort_by_primary">Sort By:</label>
                    <select id="sort_by_primary" class="form-control"></select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="asc_primary">Asc/Desc:</label>
                    <select id="asc_primary" class="form-control">
                        <option value="asc">Ascending</option>
                        <option value="desc">Descending</option>
                    </select>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6">
                    <label>Gearbox:</label>
                    <div id="gearbox" class="custom-checkbox-grid"></div>
                </div>
                <div class="col-md-6">
                    <label>Engine:</label>
                    <div id="engine" class="custom-checkbox-grid"></div>
                </div>
            </div>
            <div class="button-container mt-4">
                <button type="button" id="searchButton" class="btn btn-primary btn-lg btn-block">Search</button>
            </div>
        </form>
        <div class="content" id="results"></div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>&copy; 2024 Vehicles Fair</p>
        <p>
            <a href="index.html">Home</a> |
            <a href="search.html">Search</a> |
            <a href="statistic.html">Statistics</a>
        </p>
    </div>

    <script type="module">
        import { redirect } from './scripts/data.js';
        import { updateSecondarySortVisibility } from './scripts/enums.js';
        document.getElementById('searchButton').addEventListener('click', redirect);
        document.getElementById('sort_by_primary').onchange = updateSecondarySortVisibility;

        document.getElementById('make').addEventListener('change', function () {
            const selectedMake = this.value;
            if (selectedMake) {
                fetchModels(selectedMake);
            } else {
                clearModels();
            }
        });
    </script>
</body>

</html>